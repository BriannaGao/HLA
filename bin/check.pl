#!/usr/bin/env perl
use strict;

my %true;
while(<DATA>)
{
	$true{$1} = $2 if m/^(\d{9})\s(.+)/;
}

my $infile = shift;
open(IN, $infile) or die $!;
my $sam = $1 if $infile =~ m/\b(\d{9})\b/;
die "sample $sam not in true set\n" unless $true{$sam};
while(<IN>)
{
	chomp;
	my @solution = split('\t', $_);
	if($solution[0] == 1 && $solution[1])
	{
		my $type = $solution[1];
		my $type2 = $type;
		$type2 =~ s/;.+//;
		$type2 =~ s/\D+$//;
		if(index($true{$sam}, $type2) != -1)
		{
			print "$sam\t$_\tcorrect\n";
		}else
		{
			print "$sam\t$_\twrong\n";
		}
	}
}



__END__
187521910	A*02:01	A*03:01	B*13:02	B*51:01	C*01:02	C*06:02	DRB1*07:01	DRB1*11:01		DQB1*02:02	DQB1*03:01		DPB1*02:01	DPB1*02:01
187523324	"NMDP_map"	"A*01:01"	"A*68:01"	"B*08:01"	"B*40:01"	"C*03:04"	"C*07:01"	"DQB1*02:01;DQB1*02:02;DQB1*02:04"	"DQB1*03:02"	"DRB1*03:01"	"DRB1*04:04"
187523302	"NMDP_map"	"A*02:01;A*02:01L"	"A*02:01;A*02:01L"	"B*45:01"	"B*51:01"	"C*06:02"	"C*15:02;C*15:13"	"DQB1*02:01"	"DQB1*03:01"	"DRB1*03:01"	"DRB1*04:01"
187523234	"NMDP_map"	"A*02:01"	"A*02:01"	"B*07:02"	"B*15:01"	"C*03:03"	"C*07:02"	"DQB1*05:03"	"DQB1*06:03"	"DRB1*13:01"	"DRB1*14:01;DRB1*14:54"
187522101	"NMDP_map"	"A*03:01"	"A*03:01"	"B*07:02"	"B*07:02"	"C*07:02"	"C*07:02"	"DQB1*03:03"	"DQB1*06:02"	"DRB1*07:01"	"DRB1*15:01"
187521914	"NMDP_map"	"A*02:01;A*02:01L;A*02:01Q;A*02:09;A*02:43N;A*02:66;A*02:75;A*02:83N;A*02:89;A*02:97;A*02:132;A*02:134;A*02:140;A*02:241;A*02:252;A*02:256;A*02:266;A*02:291;A*02:294;A*02:305N;A*02:327;A*02:329;A*02:356N;A*02:357"	"A*02:01;A*02:01L;A*02:01Q;A*02:09;A*02:43N;A*02:66;A*02:75;A*02:83N;A*02:89;A*02:97;A*02:132;A*02:134;A*02:140;A*02:241;A*02:252;A*02:256;A*02:266;A*02:291;A*02:294;A*02:305N;A*02:327;A*02:329;A*02:356N;A*02:357"	"B*07:02;B*07:44;B*07:49N;B*07:58;B*07:59;B*07:61;B*07:120;B*07:128;B*07:129;B*07:130;B*07:156;B*07:161N;B*07:169"	"B*44:02;B*44:02S;B*44:19N;B*44:66;B*44:118"	"C*07:02;C*07:50;C*07:66;C*07:74;C*07:159;C*07:160;C*07:167;C*07:245"	"C*07:04;C*07:11"	"DQB1*03:01;DQB1*03:09;DQB1*03:19;DQB1*03:21;DQB1*03:22;DQB1*03:24;DQB1*03:29;DQB1*03:35;DQB1*03:42"	"DQB1*06:03;DQB1*06:41;DQB1*06:44"	"DRB1*11:01;DRB1*11:97"	"DRB1*13:01;DRB1*13:117"
187521929	NMDP_map	A*26:01;A*26:24;A*26:26;A*26:56;A*26:82;A*26:98	A*68:01	B*38:01	B*44:05	C*02:02;C*02:29;C*02:69;C*02:70	C*12:03;C*12:23;C*12:109;C*12:110;C*12:111	DQB1*05:03;DQB1*05:08;DQB1*05:10;DQB1*05:41N;DQB1*05:42	DQB1*06:03;DQB1*06:41;DQB1*06:44;DQB1*06:110	DRB1*13:01;DRB1*13:117	DRB1*14:54
187522172	NMDP_map	A*33:01	A*02:01	B*27:05	B*14:02	C*01:02	C*08:02	DQB1*05:01	DQB1*05:01	DRB1*01:02	DRB1*01:01
187522941	NMDP_map	A*01:01	A*02:01	B*07:02	B*55:01	C*03:03;C*03:20N	C*07:02;C*07:50	DQB1*06:02	DQB1*06:03	DRB1*15:01	DRB1*13:01
187522149	NMDP_map	A*01:01	A*11:01	B*08:01	B*08:01	C*07:01	C*07:01	DQB1*02:01	DQB1*02:01	DRB1*03:01	DRB1*03:01
187523058	NMDP_map	A*02:01;A*02:01L;A*02:09;A*02:43N;A*02:66;A*02:75;A*02:83N;A*02:89;A*02:97;A*02:132;A*02:134;A*02:140	A*11:01;A*11:21N	B*18:01;B*18:17N	B*44:02;B*44:02S;B*44:19N;B*44:66	C*05:01;C*05:03	C*12:03	DQB1*06:02	DQB1*06:02	DRB1*15:01	DRB1*15:01
187522032	NMDP_map	A*02:01	A*11:01	B*35:01;B*35:42	B*41:02	C*04:01	C*17:03	DQB1*03:01;DQB1*03:09;DQB1*03:13;DQB1*03:19;DQB1*03:21;DQB1*03:22	DQB1*05:03	DRB1*13:03	DRB1*14:01;DRB1*14:54
187523045	NMDP_map	A*02:01	A*29:02	B*44:02	B*44:03	C*05:01;C*05:03	C*16:01	DQB1*02:01;DQB1*02:02;DQB1*02:04	DQB1*03:01;DQB1*03:09;DQB1*03:19	DRB1*04:01	DRB1*07:01
187522151	NMDP_map	A*01:01	A*02:01;A*02:01L;A*02:09;A*02:66;A*02:75;A*02:89;A*02:97;A*02:132;A*02:134	B*15:01;B*15:102;B*15:104	B*57:01	C*03:03;C*03:20N	C*06:02	DQB1*03:01;DQB1*03:09;DQB1*03:19	DQB1*03:03	DRB1*07:01	DRB1*11:01
187523303	NMDP_map	A*26:01	A*30:01	B*13:02	B*44:05	C*02:02	C*06:02	DQB1*05:01	DQB1*02:01;DQB1*02:02;DQB1*02:04	DRB1*01:01	DRB1*07:01
187522070	NMDP_map	A*02:01	A*03:01	B*07:02	B*18:01	C*07:01	C*07:02	DQB1*03:01	DQB1*05:01	DRB1*01:01	DRB1*11:04
187521975	NMDP_map	A*01:01;A*01:01N;A*01:04N;A*01:22N;A*01:32	A*32:01	B*14:01	B*15:01;B*15:01N	C*03:03;C*03:20N	C*08:02	DQB1*02:02	DQB1*06:02	DRB1*07:01	DRB1*15:01
187522888	NMDP_map	A*24:02	A*24:07	B*35:05	B*40:02	C*04:01	C*15:02	DQB1*03:01	DQB1*05:03	DRB1*04:05	DRB1*12:02
187521946	NMDP_map	A*01:01;A*01:01N;A*01:04N;A*01:22N;A*01:32;A*01:34N;A*01:37	A*29:02	B*08:01	B*44:02	C*05:01	C*07:01;C*07:06;C*07:18;C*07:52	DQB1*02:01;DQB1*02:02;DQB1*02:04	DQB1*03:01;DQB1*03:09;DQB1*03:19;DQB1*03:21;DQB1*03:22;DQB1*03:24	DRB1*03:01	DRB1*04:01
187522123	NMDP_map	A*01:01;A*01:01N;A*01:04N;A*01:22N;A*01:32	A*03:01;A*03:01N;A*03:20;A*03:21N;A*03:26;A*03:37;A*03:45	B*07:02;B*07:44;B*07:49N;B*07:58;B*07:59;B*07:61	B*57:01	C*06:02	C*07:02;C*07:50	DQB1*03:03	DQB1*06:02	DRB1*07:01	DRB1*15:01
187522891	NMDP_map	A*01:01	A*02:01	B*08:01	B*57:01	C*06:02	C*07:01	DQB1*03:03	DQB1*06:02	DRB1*07:01	DRB1*15:01
187522143	NMDP_map	A*01:01	A*23:01	B*08:01	B*44:03	C*04:09N	C*07:01	DQB1*05:01	DQB1*02:01;DQB1*02:02;DQB1*02:04	DRB1*01:01	DRB1*07:01
187523238	NMDP_map	A*02:01	A*25:01	B*18:01	B*18:01	C*07:01;C*07:06;C*07:18	C*12:03	DQB1*03:01;DQB1*03:09	DQB1*06:02	DRB1*11:04	DRB1*15:01
187523249	NMDP_map	A*03:01	A*31:01	B*08:01	B*40:01	C*03:04	C*07:01	DQB1*02:01	DQB1*03:02	DRB1*03:01	DRB1*04:04
187522124	NMDP_map	A*01:01	A*02:01	B*40:01	B*57:01	C*03:04	C*06:02	DQB1*03:03	DQB1*06:04	DRB1*07:01	DRB1*13:02
187522086	NMDP_map	A*25:01	A*29:01	B*18:01	B*38:01	C*12:03	C*12:03	DQB1*02:02	DQB1*06:03	DRB1*07:01	DRB1*13:01
187521897	NMDP_map	A*02:01	A*24:02	B*07:02	B*44:02	C*05:01	C*07:02	DQB1*03:01	DQB1*06:02	DRB1*04:01	DRB1*15:01
187522855	NMDP_map	A*02:01;A*02:09;A*02:43N;A*02:66;A*02:75;A*02:83N;A*02:89	A*02:06	B*07:02;B*07:44	B*39:05	C*07:02	C*07:02	DQB1*03:02	DQB1*06:02	DRB1*15:01	DRB1*04:07
187521889	NMDP_map	A*01:01	A*11:01	B*56:01	B*35:01	C*01:02	C*04:01	DQB1*05:01	DQB1*05:03	DRB1*01:01	DRB1*14:01
187521900	NMDP_map	A*01:01;A*01:01N;A*01:04N;A*01:22N;A*01:32;A*01:34N;A*01:37	A*02:01;A*02:01L;A*02:09;A*02:43N;A*02:66;A*02:75;A*02:83N;A*02:89;A*02:97;A*02:132;A*02:134;A*02:140	B*07:02;B*07:44;B*07:49N;B*07:58;B*07:59;B*07:61	B*57:01	C*06:02	C*07:02;C*07:50;C*07:66;C*07:74	DQB1*03:03	DQB1*06:02	DRB1*07:01	DRB1*15:01
187523304	NMDP_map	A*02:01	A*03:01	B*35:01	B*44:02	C*04:01	C*05:01	DQB1*03:01;DQB1*03:09;DQB1*03:19	DQB1*03:01;DQB1*03:09;DQB1*03:19	DRB1*04:01	DRB1*11:01
187521971	NMDP_map	A*24:02	A*30:01	B*07:02	B*13:02	C*07:02	C*06:02	DQB1*05:01	DQB1*02:01;DQB1*02:02	DRB1*01:01	DRB1*07:01
187523263	NMDP_map	A*01:01	A*02:01	B*08:01	B*44:03	C*07:01	C*16:01	DQB1*02:01	DQB1*02:02	DRB1*03:01	DRB1*07:01
187522058	NMDP_map	A*01:01;A*01:01N;A*01:04N;A*01:22N;A*01:32	A*23:01;A*23:07N;A*23:17;A*23:18	B*07:02	B*49:01	C*07:01;C*07:52	C*07:02;C*07:50	DQB1*03:01	DQB1*06:02	DRB1*15:01	DRB1*11:01
187523319	NMDP_map	A*01:01	A*02:01	B*07:02	B*18:01	C*07:01	C*07:02	DQB1*03:01;DQB1*03:09	DQB1*06:02	DRB1*11:04	DRB1*15:01
187523040	NMDP_map	A*02:01	A*02:01	B*44:02	B*51:01	C*05:01	C*15:02	DQB1*03:01;DQB1*03:09;DQB1*03:19;DQB1*03:21;DQB1*03:22	DQB1*06:03	DRB1*04:01	DRB1*13:01
187522908	NMDP_map	A*01:01	A*03:01	B*18:01	B*57:01	C*05:01	C*06:02	DQB1*02:01	DQB1*03:03	DRB1*03:01	DRB1*07:01
187523250	NMDP_map	A*02:01	A*33:01	B*14:02	B*27:05;B*27:13	C*01:02	C*08:02	DQB1*05:01	DQB1*05:01	DRB1*01:01	DRB1*01:02
187523132	NMDP_map	A*02:01	A*02:01	B*44:02	B*15:01	C*03:03	C*05:01;C*05:03	DQB1*03:01	DQB1*06:03	DRB1*11:01	DRB1*13:01
187523088	NMDP_map	A*24:02	A*29:02	B*15:01	B*44:03	C*01:02	C*16:01	DQB1*02:01	DQB1*02:02	DRB1*07:01	DRB1*03:01
187523077	NMDP_map	A*03:01	A*11:01	B*07:02	B*35:01;B*35:42	C*07:02	C*04:01;C*04:09N	DQB1*06:02	DQB1*05:01	DRB1*15:01	DRB1*01:01
187521893	NMDP_map	A*02:01;A*02:09;A*02:43N	A*03:01	B*44:02;B*44:19N;B*44:27	B*50:01	C*05:01;C*05:03	C*06:02	DQB1*02:01;DQB1*02:02	DQB1*03:01;DQB1*03:09	DRB1*04:01	DRB1*07:01
187523076	NMDP_map	A*03:01;A*03:01N;A*03:20;A*03:21N;A*03:26;A*03:37	A*29:02	B*07:02	B*44:03	C*07:02;C*07:50	C*16:01	DQB1*02:02	DQB1*06:02	DRB1*07:01	DRB1*15:01
187521906	NMDP_map	A*02:01	A*02:01	B*27:05	B*44:02	C*01:02	C*05:01	DQB1*03:01	DQB1*05:03	DRB1*14:01	DRB1*04:01
187522885	NMDP_map	A*01:01	A*03:01	B*07:02	B*08:01	C*07:01;C*07:06;C*07:18	C*07:02	DQB1*03:02	DQB1*06:02	DRB1*04:04	DRB1*15:01
187522065	NMDP_map	A*03:01	A*29:02	B*37:01	B*44:03	C*06:02	C*16:01	DQB1*02:02	DQB1*05:01	DRB1*07:01	DRB1*10:01
187521962	NMDP_map	A*01:01	A*02:01	B*08:01	B*15:01	C*03:03	C*07:01	DQB1*02:01	DQB1*06:02	DRB1*03:01	DRB1*15:01
187521961	NMDP_map	A*01:01	A*02:01	B*08:01	B*40:01	C*03:04	C*07:01	DQB1*02:01;DQB1*02:02;DQB1*02:04	DQB1*03:02	DRB1*03:01	DRB1*04:04
187522849	NMDP_map	A*02:01	A*29:01	B*38:01	B*57:01	C*06:02	C*12:03	DQB1*03:03	DQB1*06:03	DRB1*07:01	DRB1*13:01
187522913	NMDP_map	A*24:02;A*24:09N;A*24:11N;A*24:40N	A*02:01;A*02:09;A*02:43N;A*02:66;A*02:75;A*02:83N;A*02:89	B*07:02;B*07:44	B*15:01;B*15:01N;B*15:102;B*15:104	C*03:03;C*03:20N	C*07:02	DQB1*05:03	DQB1*06:02	DRB1*14:01;DRB1*14:54	DRB1*15:01
